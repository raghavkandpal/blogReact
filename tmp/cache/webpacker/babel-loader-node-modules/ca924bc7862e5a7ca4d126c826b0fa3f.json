{"ast":null,"code":"var _jsxFileName = \"D:\\\\try\\\\blogReact\\\\app\\\\javascript\\\\components\\\\Signup.jsx\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nvar Signup = /*#__PURE__*/function (_Component) {\n  _inherits(Signup, _Component);\n\n  var _super = _createSuper(Signup);\n\n  function Signup(props) {\n    var _this;\n\n    _classCallCheck(this, Signup);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var _this$state = _this.state,\n          name = _this$state.name,\n          email = _this$state.email,\n          password = _this$state.password;\n      var user = {\n        name: name,\n        email: email,\n        password: password\n      };\n      axios.post('http://localhost:3001/users', {\n        user: user\n      }, {\n        withCredentials: true\n      }).then(function (response) {\n        if (response.data.status === 'created') {\n          _this.props.handleLogin(response.data);\n\n          _this.redirect();\n        } else {\n          _this.setState({\n            errors: response.data.errors\n          });\n        }\n      })[\"catch\"](function (error) {\n        return console.log('api errors:', error);\n      });\n    };\n\n    _this.redirect = function () {\n      _this.props.history.push('/');\n    };\n\n    _this.handleErrors = function () {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }\n      }, _this.state.errors.map(function (error) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: error,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 18\n          }\n        }, error);\n      })));\n    };\n\n    _this.state = {\n      name: '',\n      email: '',\n      password: ''\n    };\n    return _this;\n  }\n\n  _createClass(Signup, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          name = _this$state2.name,\n          email = _this$state2.email,\n          password = _this$state2.password;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-12 col-lg-6 offset-lg-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"font-weight-normal mb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 7\n        }\n      }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        placeholder: \"name\",\n        type: \"text\",\n        name: \"name\",\n        id: \"name\",\n        value: username,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        placeholder: \"email\",\n        type: \"text\",\n        name: \"email\",\n        value: email,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        placeholder: \"password\",\n        type: \"password\",\n        name: \"password\",\n        id: \"password\",\n        value: password,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        placeholder: \"submit\",\n        type: \"submit\",\n        className: \"btn custom-button mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }\n      }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }\n      }, \"Have an account? \", /*#__PURE__*/React.createElement(Link, {\n        to: \"/signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 30\n        }\n      }, \"Sign up\")), /*#__PURE__*/React.createElement(Link, {\n        to: \"/posts\",\n        className: \"btn btn-link mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }\n      }, \"Back to posts\")), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, this.state.errors ? this.handleErrors() : null))));\n    }\n  }]);\n\n  return Signup;\n}(Component);\n\nexport default Signup;","map":{"version":3,"sources":["D:/try/blogReact/app/javascript/components/Signup.jsx"],"names":["React","Component","axios","Signup","props","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","state","email","password","user","post","withCredentials","then","response","data","status","handleLogin","redirect","errors","error","console","log","history","push","handleErrors","map","username"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios'\r\nclass Signup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n      name: '',\r\n      email: '',\r\n      password: ''\r\n     };\r\n  }\r\n  handleChange = (event) => {\r\n    const {name, value} = event.target\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n  };\r\nhandleSubmit = (event) => {\r\n    event.preventDefault()\r\n    const { name, email, password } = this.state\r\n    let user = {\r\n      name: name,\r\n      email: email,\r\n      password: password,\r\n    }\r\naxios.post('http://localhost:3001/users', {user}, {withCredentials: true})\r\n    .then(response => {\r\n      if (response.data.status === 'created') {\r\n        this.props.handleLogin(response.data)\r\n        this.redirect()\r\n      } else {\r\n        this.setState({\r\n          errors: response.data.errors\r\n        })\r\n      }\r\n    })\r\n    .catch(error => console.log('api errors:', error))\r\n  };\r\nredirect = () => {\r\n    this.props.history.push('/')\r\n  }\r\nhandleErrors = () => {\r\n    return (\r\n      <div>\r\n        <ul>{this.state.errors.map((error) => {\r\n          return <li key={error}>{error}</li>\r\n        })}</ul> \r\n      </div>\r\n    )\r\n  }\r\nrender() {\r\n    const { name, email, password } = this.state\r\nreturn (\r\n    <div className=\"container mt-5\">\r\n    <div className=\"row\">\r\n      <div className=\"col-sm-12 col-lg-6 offset-lg-3\">\r\n      <h1 className=\"font-weight-normal mb-5\">Sign Up</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n        <label htmlFor=\"name\">Name</label>\r\n          <input\r\n            className=\"form-control\"\r\n            placeholder=\"name\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            value={username}\r\n            onChange={this.handleChange}\r\n          />\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            className=\"form-control\"\r\n            placeholder=\"email\"\r\n            type=\"text\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={this.handleChange}\r\n          />\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input \r\n            className=\"form-control\"\r\n            placeholder=\"password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={this.handleChange}\r\n          />\r\n        \r\n          <button placeholder=\"submit\" type=\"submit\" className=\"btn custom-button mt-3\">\r\n            Sign Up\r\n          </button>\r\n          <div>\r\n            Have an account? <Link to='/signup'>Sign up</Link>\r\n          </div>\r\n          <Link to=\"/posts\" className=\"btn btn-link mt-3\">\r\n                  Back to posts\r\n            </Link>\r\n        </form>\r\n        <div>\r\n            {this.state.errors ? this.handleErrors() : null}\r\n        </div>\r\n      </div>\r\n      </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Signup;"]},"metadata":{},"sourceType":"module"}