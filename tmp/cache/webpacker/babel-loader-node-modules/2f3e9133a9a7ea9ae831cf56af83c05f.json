{"ast":null,"code":"var _jsxFileName = \"D:\\\\try\\\\blogReact\\\\app\\\\javascript\\\\components\\\\Users.jsx\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Home from '../components/Home';\nimport Login from '../components/Login';\nimport Signup from '../components/Signup';\n\nvar Users = /*#__PURE__*/function (_Component) {\n  _inherits(Users, _Component);\n\n  var _super = _createSuper(Users);\n\n  function Users(props) {\n    var _this;\n\n    _classCallCheck(this, Users);\n\n    _this = _super.call(this, props);\n\n    _this.loginStatus = function () {\n      axios.get('http://localhost:3001/logged_in', {\n        withCredentials: true\n      }).then(function (response) {\n        if (response.data.logged_in) {\n          _this.handleLogin(response);\n        } else {\n          _this.handleLogout();\n        }\n      })[\"catch\"](function (error) {\n        return console.log('api errors:', error);\n      });\n    };\n\n    _this.handleLogin = function (data) {\n      _this.setState({\n        isLoggedIn: true,\n        user: data.user\n      });\n    };\n\n    _this.handleLogout = function () {\n      _this.setState({\n        isLoggedIn: false,\n        user: {}\n      });\n    };\n\n    _this.state = {\n      isLoggedIn: false,\n      user: {}\n    };\n    return _this;\n  }\n\n  _createClass(Users, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loginStatus();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(BrowserRouter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render(props) {\n          return /*#__PURE__*/React.createElement(Home, Object.assign({}, props, {\n            loggedInStatus: _this2.state.isLoggedIn,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/login\",\n        render: function render(props) {\n          return /*#__PURE__*/React.createElement(Login, Object.assign({}, props, {\n            handleLogin: _this2.handleLogin,\n            loggedInStatus: _this2.state.isLoggedIn,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/signup\",\n        render: function render(props) {\n          return /*#__PURE__*/React.createElement(Signup, Object.assign({}, props, {\n            handleLogin: _this2.handleLogin,\n            loggedInStatus: _this2.state.isLoggedIn,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return Users;\n}(Component);\n\nexport default Users;","map":{"version":3,"sources":["D:/try/blogReact/app/javascript/components/Users.jsx"],"names":["React","Component","axios","BrowserRouter","Switch","Route","Home","Login","Signup","Users","props","loginStatus","get","withCredentials","then","response","data","logged_in","handleLogin","handleLogout","error","console","log","setState","isLoggedIn","user","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios'\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom'\r\nimport Home from '../components/Home'\r\nimport Login from '../components/Login'\r\nimport Signup from '../components/Signup'\r\n\r\nclass Users extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n      isLoggedIn: false,\r\n      user: {}\r\n     };\r\n  }\r\ncomponentDidMount() {\r\n    this.loginStatus()\r\n  }\r\n  loginStatus = () => {\r\n    axios.get('http://localhost:3001/logged_in', {withCredentials: true})\r\n    .then(response => {\r\n      if (response.data.logged_in) {\r\n        this.handleLogin(response)\r\n      } else {\r\n        this.handleLogout()\r\n      }\r\n    })\r\n    .catch(error => console.log('api errors:', error))\r\n  }\r\nhandleLogin = (data) => {\r\n    this.setState({\r\n      isLoggedIn: true,\r\n      user: data.user\r\n    })\r\n  }\r\nhandleLogout = () => {\r\n    this.setState({\r\n    isLoggedIn: false,\r\n    user: {}\r\n    })\r\n  }\r\nrender() {\r\n    return (\r\n      <div>\r\n        <BrowserRouter>\r\n          <Switch>\r\n            <Route \r\n              exact path='/' \r\n              render={props => (\r\n              <Home {...props} loggedInStatus={this.state.isLoggedIn}/>\r\n              )}\r\n            />\r\n            <Route \r\n              exact path='/login' \r\n              render={props => (\r\n              <Login {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.isLoggedIn}/>\r\n              )}\r\n            />\r\n            <Route \r\n              exact path='/signup' \r\n              render={props => (\r\n              <Signup {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.isLoggedIn}/>\r\n              )}\r\n            />\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Users;"]},"metadata":{},"sourceType":"module"}